<!DOCTYPE html>
<html>
	<head>
		<title>Bibal Locator</title>
		<meta charset="UTF-8" />
		
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==" crossorigin=""/>
		
		<script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==" crossorigin=""></script>
		
		<style>
			html, body
			{
				width: 100%;
				height: 100%;
				
				margin: 0;
				padding: 0;
				
				box-sizing: border-box;
			}
			
			#map
			{
				height: 100%;
				width: 100%;
			}
		</style>
		
		<script defer>
			const fdsLocation = {
				latitude: 43.63278,
				longitude: 3.86451,
				zoom: 18
			};
			
			const MarkerIcon = L.Icon.extend({
				options: {
					iconUrl: 'assets/marker.png',
					shadowUrl: 'assets/marker_shadow.png',
					iconSize:     [46, 60],
					shadowSize:   [48, 37],
					iconAnchor:   [23, 60],
					shadowAnchor: [0, 37],
					popupAnchor:  [0, -60]
				}
			});
			const markerIcon = new MarkerIcon();
			
			window.addEventListener("load", () => {
				const map = L.map('map').setView([fdsLocation.latitude, fdsLocation.longitude], fdsLocation.zoom);
				
				L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
					maxZoom: 19,
					attribution: '© OpenStreetMap'
				}).addTo(map);
				
				const cofeeMachineBat5 = L.marker([43.63304914328182, 3.862113786201999], { icon: markerIcon }).addTo(map);
				cofeeMachineBat5.bindPopup("Disponibilité : <ul><li>2 machines à café</li><li>1 distributeurs snack/boisson</li></ul>");
				const cofeemachineBat7 = L.marker([43.63162069367068, 3.863487225751479], { icon: markerIcon }).addTo(map);
				cofeemachineBat7.bindPopup("Disponibilité : <ul><li>5 machines à café</li><li>2 distributeurs snack/boisson</li></ul>");
				const cofeemachineBat36 = L.marker([43.631381114092, 3.86231660842896], { icon: markerIcon }).addTo(map);
				cofeemachineBat36.bindPopup("Disponibilité : <ul><li>3 machines à café</li><li>1 distributeurs snack/boisson</li></ul>");
			});
		</script>
	</head>
	
	<body>
		<main id="map"></main>
	</body>
</html>
